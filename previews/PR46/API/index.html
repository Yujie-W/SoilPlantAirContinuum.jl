<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · SoilPlantAirContinuum</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">SoilPlantAirContinuum</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#Types"><span>Types</span></a></li><li><a class="tocitem" href="#Soil"><span>Soil</span></a></li><li><a class="tocitem" href="#Planet"><span>Planet</span></a></li><li><a class="tocitem" href="#Big-leaf-model"><span>Big-leaf model</span></a></li><li><a class="tocitem" href="#Optimal-investment"><span>Optimal investment</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/master/docs/src/API.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="SoilPlantAirContinuum"><a class="docs-heading-anchor" href="#SoilPlantAirContinuum">SoilPlantAirContinuum</a><a id="SoilPlantAirContinuum-1"></a><a class="docs-heading-anchor-permalink" href="#SoilPlantAirContinuum" title="Permalink"></a></h1><h2 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.SPACContainer1L" href="#SoilPlantAirContinuum.SPACContainer1L"><code>SoilPlantAirContinuum.SPACContainer1L</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct SPACContainer1L{FT}</code></pre><p>Struct that contains 1-layer gas exchange information.</p><p><strong>Fields</strong></p><ul><li><p><code>ag::AbstractFloat</code></p><p>Mean gross photosynthetic rate <code>[μmol m⁻² s⁻¹]</code></p></li><li><p><code>an::AbstractFloat</code></p><p>Mean net photosynthetic rate <code>[μmol m⁻² s⁻¹]</code></p></li><li><p><code>c::AbstractFloat</code></p><p>Leaf internal CO₂ partial pressure <code>[Pa]</code></p></li><li><p><code>e::AbstractFloat</code></p><p>Flow rate per basal area <code>[mol s⁻¹ m⁻²]</code></p></li><li><p><code>gh::AbstractFloat</code></p><p>Leaf diffusive conductance to H₂O <code>[mol m⁻² s⁻¹]</code></p></li><li><p><code>p::AbstractFloat</code></p><p>Xylem end pressure <code>[MPa]</code></p></li><li><p><code>t::AbstractFloat</code></p><p>Leaf temperature <code>[K]</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/types/container.jl#L6-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.SPACContainer2L" href="#SoilPlantAirContinuum.SPACContainer2L"><code>SoilPlantAirContinuum.SPACContainer2L</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct SPACContainer2L{FT}</code></pre><p>Struct that contains 2-layer gas exchange information.</p><p><strong>Fields</strong></p><ul><li><p><code>cont_sh::SoilPlantAirContinuum.SPACContainer1L</code></p></li><li><p><code>cont_sl::SoilPlantAirContinuum.SPACContainer1L</code></p></li><li><p><code>frac_sh::AbstractFloat</code></p><p>Shaded layer fraction</p></li><li><p><code>frac_sl::AbstractFloat</code></p><p>Sunlit layer fraction</p></li><li><p><code>la_sh::AbstractFloat</code></p><p>Shaded layer leaf area <code>[m²]</code></p></li><li><p><code>la_sl::AbstractFloat</code></p><p>Sunlit layer leaf area <code>[m²]</code></p></li><li><p><code>lai_sh::AbstractFloat</code></p><p>Shaded layer LAI</p></li><li><p><code>lai_sl::AbstractFloat</code></p><p>Sunlit layer LAI</p></li><li><p><code>par_sh::AbstractFloat</code></p><p>Shaded layer PAR <code>[μmol m⁻² s⁻¹]</code></p></li><li><p><code>par_sl::AbstractFloat</code></p><p>Sunlit layer PAR <code>[μmol m⁻² s⁻¹]</code></p></li><li><p><code>rad_sh::AbstractFloat</code></p><p>Shaded layer absorbed energy <code>[W m⁻²]</code></p></li><li><p><code>rad_sl::AbstractFloat</code></p><p>Sunlit layer absorbed energy <code>[W m⁻²]</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/types/container.jl#L34-L41">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.SPACMono" href="#SoilPlantAirContinuum.SPACMono"><code>SoilPlantAirContinuum.SPACMono</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct SPACMono{FT}</code></pre><p>Struct that mono species SoilPlantAirContinuum system.</p><p><strong>Fields</strong></p><ul><li><p><code>soil_bounds::Vector{FT} where FT&lt;:AbstractFloat</code></p><p>Soil layers bounds <code>[m]</code></p></li><li><p><code>air_bounds::Vector{FT} where FT&lt;:AbstractFloat</code></p><p>Air layers bounds <code>[m]</code></p></li><li><p><code>z_root::AbstractFloat</code></p><p>Root depth <code>[m]</code></p></li><li><p><code>z_canopy::AbstractFloat</code></p><p>Canopy maximal height <code>[m]</code></p></li><li><p><code>plant_hs::PlantHydraulics.AbstractPlantOrganism</code></p><p>Plant hydraulic system</p></li><li><p><code>n_canopy::Int64</code></p><p>Number of canopy layers</p></li><li><p><code>n_root::Int64</code></p><p>Number of root layers</p></li><li><p><code>plant_ps::Array{StomataModels.CanopyLayer{FT}, 1} where FT&lt;:AbstractFloat</code></p><p>Plant photosynthesis systems</p></li><li><p><code>ba::AbstractFloat</code></p><p>Basal area <code>[m²]</code></p></li><li><p><code>ga::AbstractFloat</code></p><p>Ground area <code>[m²]</code></p></li><li><p><code>la::AbstractFloat</code></p><p>Leaf area <code>[m²]</code></p></li><li><p><code>envirs::Array{Photosynthesis.AirLayer{FT}, 1} where FT&lt;:AbstractFloat</code></p><p>Air layers</p></li><li><p><code>wind_z0::AbstractFloat</code></p><p>Aerodynamic roughness <code>[m]</code></p></li><li><p><code>wind_d::AbstractFloat</code></p><p>Zero plane displacement <code>[m]</code></p></li><li><p><code>wind_zs::Vector{FT} where FT&lt;:AbstractFloat</code></p><p>Mean layer height <code>[m]</code></p></li><li><p><code>winds::Vector{FT} where FT&lt;:AbstractFloat</code></p><p>Wind speed per layer <code>[m s⁻¹]</code></p></li><li><p><code>mswc::Vector{FT} where FT&lt;:AbstractFloat</code></p><p>Maximal soil water content</p></li><li><p><code>swc::Vector{FT} where FT&lt;:AbstractFloat</code></p><p>Current soil water content</p></li><li><p><code>p_soil::Vector{FT} where FT&lt;:AbstractFloat</code></p><p>Array of soil matric potential <code>[MPa]</code></p></li><li><p><code>h_soil::AbstractFloat</code></p><p>Maximal soil depth <code>[m]</code></p></li><li><p><code>latitude::AbstractFloat</code></p><p>Latitude <code>[°]</code></p></li><li><p><code>longitude::AbstractFloat</code></p><p>Longitude <code>[°]</code></p></li><li><p><code>elevation::AbstractFloat</code></p><p>Elevation <code>[m]</code></p></li><li><p><code>photo_set::Photosynthesis.AbstractPhotoModelParaSet{FT} where FT&lt;:AbstractFloat</code></p><p>Photosynthesis parameter set</p></li><li><p><code>stomata_model::StomataModels.AbstractStomatalModel</code></p><p>Stomatal behavior scheme</p></li><li><p><code>angles::CanopyLayers.SolarAngles{FT} where FT&lt;:AbstractFloat</code></p><p>Solar angle container</p></li><li><p><code>canopy_rt::CanopyLayers.Canopy4RT</code></p><p>Canopy4RT container</p></li><li><p><code>wl_set::CanopyLayers.WaveLengths{FT} where FT&lt;:AbstractFloat</code></p><p>Wave length container</p></li><li><p><code>rt_dim::CanopyLayers.RTDimensions</code></p><p>RT dimensions</p></li><li><p><code>can_rad::CanopyLayers.CanopyRads{FT} where FT&lt;:AbstractFloat</code></p><p>CanopyRads container</p></li><li><p><code>can_opt::CanopyLayers.CanopyOpticals{FT} where FT&lt;:AbstractFloat</code></p><p>CanopyOpticals container</p></li><li><p><code>leaves_rt::Array{CanopyLayers.LeafBios{FT}, 1} where FT&lt;:AbstractFloat</code></p><p>Array of LeafBios container</p></li><li><p><code>soil_opt::CanopyLayers.SoilOpticals{FT} where FT&lt;:AbstractFloat</code></p><p>SoilOpticals container</p></li><li><p><code>in_rad::CanopyLayers.IncomingRadiation{FT} where FT&lt;:AbstractFloat</code></p><p>Incoming radiation container</p></li><li><p><code>rt_con::CanopyLayers.RTCache{FT} where FT&lt;:AbstractFloat</code></p><p>RT container</p></li><li><p><code>f_SL::Vector{FT} where FT&lt;:AbstractFloat</code></p><p>Container for sunlit leaf area fraction in each layer</p></li><li><p><code>f_gpp::AbstractFloat</code></p><p>Canopy GPP per ground area</p></li><li><p><code>f_npp::AbstractFloat</code></p><p>Canopy GPP per ground area</p></li><li><p><code>f_H₂O::AbstractFloat</code></p><p>Canopy water flux per ground area</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/types/spacmono.jl#L6-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.SPACSimple" href="#SoilPlantAirContinuum.SPACSimple"><code>SoilPlantAirContinuum.SPACSimple</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct SPACSimple{FT}</code></pre><p>Struct that simplest mono species SoilPlantAirContinuum system, with 1 root,     stem, and leaf.</p><p><strong>Fields</strong></p><ul><li><p><code>hs::PlantHydraulics.TreeSimple{FT} where FT&lt;:AbstractFloat</code></p><p>Hydraulic systems</p></li><li><p><code>ec::AbstractFloat</code></p><p>Critical flow rate</p></li><li><p><code>ps::Photosynthesis.Leaf</code></p><p>Photosynthesis system</p></li><li><p><code>vtoj::AbstractFloat</code></p><p>Ratio between Vcmax25 and Jmax25</p></li><li><p><code>envir::Photosynthesis.AirLayer</code></p><p>Environmental conditions</p></li><li><p><code>container1L::SoilPlantAirContinuum.SPACContainer1L</code></p><p>Container for gas exchange for a layer</p></li><li><p><code>container2L::SoilPlantAirContinuum.SPACContainer2L</code></p><p>Container for gas exchange of sunlit and shaded layers</p></li><li><p><code>containerKS::Vector{FT} where FT&lt;:AbstractFloat</code></p><p>Container for default hydraulic conductance</p></li><li><p><code>containerOP::AbstractFloat</code></p><p>Container for optimizer</p></li><li><p><code>opt_f_sl::AbstractFloat</code></p><p>Container for optimal sunlit layer flow rate</p></li><li><p><code>opt_f_sh::AbstractFloat</code></p><p>Container for optimal shaded layer flow rate</p></li><li><p><code>opt_laba::AbstractFloat</code></p><p>Container for optimal leaf area per basal area</p></li><li><p><code>opt_vmax::AbstractFloat</code></p><p>Container for optimal Vcmax25</p></li><li><p><code>lai::AbstractFloat</code></p><p>Leaf area index</p></li><li><p><code>laba::AbstractFloat</code></p><p>Leaf area per basal area</p></li><li><p><code>g_max::AbstractFloat</code></p><p>Maximal stomatal conductance limit at 25 °C</p></li><li><p><code>gaba::AbstractFloat</code></p><p>Ground area per basal area</p></li><li><p><code>width::AbstractFloat</code></p><p>Leaf width</p></li><li><p><code>mswc::AbstractFloat</code></p><p>Maximal soil water content</p></li><li><p><code>swc::AbstractFloat</code></p><p>Current soil water content</p></li><li><p><code>p_soil::AbstractFloat</code></p><p>Soil matrical water potential</p></li><li><p><code>h_soil::AbstractFloat</code></p><p>Soil depth, 2X mean root depth</p></li><li><p><code>c_cons::AbstractFloat</code></p><p>Leaf construction cost per leaf area</p></li><li><p><code>c_vmax::AbstractFloat</code></p><p>Leaf nutrient cost per Vcmax25 per leaf area</p></li><li><p><code>latitude::AbstractFloat</code></p><p>Latitude <code>[°]</code></p></li><li><p><code>longitude::AbstractFloat</code></p><p>Longitude <code>[°]</code></p></li><li><p><code>elevation::AbstractFloat</code></p><p>Elevation <code>[m]</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/types/spacsimple.jl#L6-L14">source</a></section></article><h2 id="Soil"><a class="docs-heading-anchor" href="#Soil">Soil</a><a id="Soil-1"></a><a class="docs-heading-anchor-permalink" href="#Soil" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.soil_moisture_swc!" href="#SoilPlantAirContinuum.soil_moisture_swc!"><code>SoilPlantAirContinuum.soil_moisture_swc!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">soil_moisture_swc!(node::SPACSimple{FT}, swc::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Update soil moisture and soil matrix potential, given</p><ul><li><code>node</code> <a href="#SoilPlantAirContinuum.SPACSimple"><code>SPACSimple</code></a> type struct</li><li><code>swc</code> Given soil water content</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/soil/moisture.jl#L6-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.soil_moisture_p!" href="#SoilPlantAirContinuum.soil_moisture_p!"><code>SoilPlantAirContinuum.soil_moisture_p!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">soil_moisture_p!(node::SPACSimple{FT}, p::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Update soil moisture and soil matrix potential, given</p><ul><li><code>node</code> <a href="#SoilPlantAirContinuum.SPACSimple"><code>SPACSimple</code></a> type struct</li><li><code>p</code> Given soil maxtrix potential</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/soil/moisture.jl#L31-L37">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.soil_moisture_p25!" href="#SoilPlantAirContinuum.soil_moisture_p25!"><code>SoilPlantAirContinuum.soil_moisture_p25!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">soil_moisture_p25!(
            node::SPACSimple{FT},
            p_25::FT
) where {FT&lt;:AbstractFloat}</code></pre><p>Update soil moisture and soil matrix potential, given</p><ul><li><code>node</code> <a href="#SoilPlantAirContinuum.SPACSimple"><code>SPACSimple</code></a> type struct</li><li><code>p_25</code> Given soil maxtrix potential at 25 Celcius</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/soil/moisture.jl#L52-L61">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.soil_moisture!" href="#SoilPlantAirContinuum.soil_moisture!"><code>SoilPlantAirContinuum.soil_moisture!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">soil_moisture!(
            node::SPACSimple{FT},
            flow::FT,
            Δt::FT = FT(1)
) where {FT&lt;:AbstractFloat}</code></pre><p>Update soil moisture and soil matrix potential, given</p><ul><li><code>node</code> <a href="#SoilPlantAirContinuum.SPACSimple"><code>SPACSimple</code></a> type struct</li><li><code>flow</code> Mean outlet flow rate in <code>[Kg h⁻¹]</code></li><li><code>Δt</code> Time period in <code>[h]</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/soil/moisture.jl#L75-L86">source</a></section></article><h2 id="Planet"><a class="docs-heading-anchor" href="#Planet">Planet</a><a id="Planet-1"></a><a class="docs-heading-anchor-permalink" href="#Planet" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.atmospheric_pressure_ratio" href="#SoilPlantAirContinuum.atmospheric_pressure_ratio"><code>SoilPlantAirContinuum.atmospheric_pressure_ratio</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">atmospheric_pressure(h::FT)</code></pre><p>Calculate the atmospheric pressure, given</p><ul><li><code>h</code> elevation in <code>[m]</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/planet/atmpressure.jl#L8-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.atmospheric_pressure" href="#SoilPlantAirContinuum.atmospheric_pressure"><code>SoilPlantAirContinuum.atmospheric_pressure</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">atmospheric_pressure(h::FT)</code></pre><p>Calculate the atmospheric pressure, given</p><ul><li><code>h</code> elevation in <code>[m]</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/planet/atmpressure.jl#L23-L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.ppm_to_Pa" href="#SoilPlantAirContinuum.ppm_to_Pa"><code>SoilPlantAirContinuum.ppm_to_Pa</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ppm_to_Pa(h::FT)</code></pre><p>Convert ppm to Pa, given</p><ul><li><code>h</code> elevation in <code>[m]</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/planet/atmpressure.jl#L38-L43">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.zenith_angle" href="#SoilPlantAirContinuum.zenith_angle"><code>SoilPlantAirContinuum.zenith_angle</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">zenith_angle(
            latd::FT,
            decd::FT,
            lhad::FT
) where {FT&lt;:AbstractFloat}
zenith_angle(
            latd::FT,
            day::FT,
            hour::FT,
            minute::FT
) where {FT&lt;:AbstractFloat}</code></pre><p>Calculate the zenith angle, given</p><ul><li><code>latd</code> Latitude in degree</li><li><code>decd</code> Declination of the Sun in degree</li><li><code>lhad</code> Local hour angle in degree</li><li><code>day</code> Day of year</li><li><code>hour</code> Hour of day</li><li><code>minute</code> Minute of hour</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/planet/solarangle.jl#L6-L26">source</a></section></article><h2 id="Big-leaf-model"><a class="docs-heading-anchor" href="#Big-leaf-model">Big-leaf model</a><a id="Big-leaf-model-1"></a><a class="docs-heading-anchor-permalink" href="#Big-leaf-model" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.gain_risk_map" href="#SoilPlantAirContinuum.gain_risk_map"><code>SoilPlantAirContinuum.gain_risk_map</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">gain_risk_map(
            node::SPACSimple{FT},
            photo_set::AbstractPhotoModelParaSet{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the matrix of optimizers at different sunlit and shaded layer flow     rates, given</p><ul><li><code>node</code> [<code>SPACSimple</code>] type struct</li><li><code>photo_set</code> [<code>AbstractPhotoModelParaSet</code>] type photosynthesis parameter set</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/bigleaf/gainriskmap.jl#L6-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.leaf_gas_exchange_nonopt!" href="#SoilPlantAirContinuum.leaf_gas_exchange_nonopt!"><code>SoilPlantAirContinuum.leaf_gas_exchange_nonopt!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">leaf_gas_exchange_nonopt!(
            node::SPACSimple{FT},
            photo_set::AbstractPhotoModelParaSet{FT},
            flow::FT,
            par::FT,
            rad::FT,
            la::FT,
            container::SPACContainer1L{FT}
) where {FT&lt;:AbstractFloat}
leaf_gas_exchange_nonopt!(
            node::SPACSimple{FT},
            photo_set::AbstractPhotoModelParaSet{FT},
            flow::FT
) where {FT&lt;:AbstractFloat}
leaf_gas_exchange_nonopt!(
            node::SPACSimple{FT},
            photo_set::AbstractPhotoModelParaSet{FT},
            f_sl::FT,
            f_sh::FT
) where {FT&lt;:AbstractFloat}</code></pre><p>Simulate leaf level gas exchange and fill it into the <code>container</code> for 1-layer     or 2-layer canopy, given</p><ul><li><code>node</code> [<code>SPACSimple</code>] type struct</li><li><code>photo_set</code> [<code>AbstractPhotoModelParaSet</code>] type struct</li><li><code>flow</code> Flow rate per basal area into the leaves (e.g., for sunlit leaves)</li><li><code>f_sl</code> Flow rate per basal area into the sunlit leaves</li><li><code>f_sh</code> Flow rate per basal area into the shaded leaves</li><li><code>par</code> Leaf-level photosynthetic active radiation</li><li><code>rad</code> Leaf-level absorbed radiative energy</li><li><code>la</code> Leaf area of the leaves (total or each layer)</li><li><code>container</code> [<code>SPACContainer1L</code>] type container</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/bigleaf/gasexchange.jl#L6-L39">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.leaf_gas_exchange!" href="#SoilPlantAirContinuum.leaf_gas_exchange!"><code>SoilPlantAirContinuum.leaf_gas_exchange!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">leaf_gas_exchange!(
            node::SPACSimple{FT},
            photo_set::AbstractPhotoModelParaSet{FT},
            flow::FT,
            par::FT,
            rad::FT,
            la::FT,
            container::SPACContainer1L{FT}
) where {FT&lt;:AbstractFloat}
leaf_gas_exchange!(
            node::SPACSimple{FT},
            photo_set::AbstractPhotoModelParaSet{FT},
            flow::FT
) where {FT&lt;:AbstractFloat}
leaf_gas_exchange!(
            node::SPACSimple{FT},
            photo_set::AbstractPhotoModelParaSet{FT},
            f_sl::FT,
            f_sh::FT
) where {FT&lt;:AbstractFloat}</code></pre><p>Simulate leaf level gas exchange and fill it into the <code>container</code> for 1-layer     or 2-layer canopy, given</p><ul><li><code>node</code> [<code>SPACSimple</code>] type struct</li><li><code>photo_set</code> [<code>AbstractPhotoModelParaSet</code>] type struct</li><li><code>flow</code> Flow rate per basal area into the leaves (e.g., for sunlit leaves)</li><li><code>f_sl</code> Flow rate per basal area into the sunlit leaves</li><li><code>f_sh</code> Flow rate per basal area into the shaded leaves</li><li><code>par</code> Leaf-level photosynthetic active radiation</li><li><code>rad</code> Leaf-level absorbed radiative energy</li><li><code>la</code> Leaf area of the leaves (total or each layer)</li><li><code>container</code> [<code>SPACContainer1L</code>] type container</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/bigleaf/gasexchange.jl#L168-L201">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.optimize_flows!" href="#SoilPlantAirContinuum.optimize_flows!"><code>SoilPlantAirContinuum.optimize_flows!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">optimize_flows!(
            node::SPACSimple{FT},
            photo_set::AbstractPhotoModelParaSet{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Optimize the flow rates in sunlit and shaded layers, given</p><ul><li><code>node</code> [<code>SPACSimple</code>] type struct</li><li><code>photo_set</code> [<code>AbstractPhotoModelParaSet</code>] type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/bigleaf/optimizeflow.jl#L7-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.big_leaf_partition!" href="#SoilPlantAirContinuum.big_leaf_partition!"><code>SoilPlantAirContinuum.big_leaf_partition!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">big_leaf_partition!(
            node::SPACSimple{FT},
            zenith::FT,
            r_all::FT
) where {FT &lt;:AbstractFloat}</code></pre><p>Partition the big-leaf canopy into sunlit and shaded layers, given</p><ul><li><code>partition</code> Container for partition</li><li><code>zenith</code> Zenith angle in degree</li><li><code>r_all</code> Total radiation in <code>[W m⁻²]</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/bigleaf/partition.jl#L6-L17">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.radiative_conductance" href="#SoilPlantAirContinuum.radiative_conductance"><code>SoilPlantAirContinuum.radiative_conductance</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">radiative_conductance(T::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Return the radiative conductance of leaf, given</p><ul><li><code>T</code> leaf temperature</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/bigleaf/temperature.jl#L6-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.black_body_emittance" href="#SoilPlantAirContinuum.black_body_emittance"><code>SoilPlantAirContinuum.black_body_emittance</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">black_body_emittance(T::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Return the energy been radiated out, given</p><ul><li><code>T</code> leaf temperature</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/bigleaf/temperature.jl#L35-L40">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.boundary_layer_conductance" href="#SoilPlantAirContinuum.boundary_layer_conductance"><code>SoilPlantAirContinuum.boundary_layer_conductance</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">boundary_layer_conductance(wind::FT, width::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Return the boundary layer conductance, given</p><ul><li><code>wind</code> Wind speed</li><li><code>width</code> Leaf width</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/bigleaf/temperature.jl#L59-L65">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.leaf_temperature" href="#SoilPlantAirContinuum.leaf_temperature"><code>SoilPlantAirContinuum.leaf_temperature</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">leaf_temperature(
            node::SPACSimple{FT},
            rad::FT,
            e_rad::FT,
            epla::FT
) where {FT&lt;:AbstractFloat}
leaf_temperature(
            node::SPACSimple{FT},
            rad::FT,
            flow::FT
) where {FT&lt;:AbstractFloat}</code></pre><p>Return leaf temperature, given</p><ul><li><code>node</code> <a href="#SoilPlantAirContinuum.SPACSimple"><code>SPACSimple</code></a> type struct</li><li><code>rad</code> Absorbed solar radiation per leaf area</li><li><code>e_rad</code> Emitted absorbed radiation per leaf area</li><li><code>epla</code> Flow rate per leaf area</li><li><code>flow</code> Total flow rate per basal area</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/bigleaf/temperature.jl#L88-L107">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.leaf_temperature_sunlit" href="#SoilPlantAirContinuum.leaf_temperature_sunlit"><code>SoilPlantAirContinuum.leaf_temperature_sunlit</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">leaf_temperature_sunlit(
            node::SPACSimple{FT},
            rad::FT,
            f_sl::FT
) where {FT&lt;:AbstractFloat}</code></pre><p>Return leaf temperature, given</p><ul><li><code>node</code> <a href="#SoilPlantAirContinuum.SPACSimple"><code>SPACSimple</code></a> type struct</li><li><code>rad</code> Absorbed solar radiation per leaf area</li><li><code>f_sl</code> Total flow rate per basal area into sunlit leaves</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/bigleaf/temperature.jl#L145-L156">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.leaf_temperature_shaded" href="#SoilPlantAirContinuum.leaf_temperature_shaded"><code>SoilPlantAirContinuum.leaf_temperature_shaded</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">leaf_temperature_shaded(
            node::SPACSimple{FT},
            rad::FT,
            f_sh::FT
) where {FT&lt;:AbstractFloat}</code></pre><p>Return leaf temperature, given</p><ul><li><code>node</code> <a href="#SoilPlantAirContinuum.SPACSimple"><code>SPACSimple</code></a> type struct</li><li><code>rad</code> Absorbed solar radiation per leaf area</li><li><code>f_sh</code> Total flow rate per basal area into shaded leaves</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/bigleaf/temperature.jl#L172-L183">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.annual_profit" href="#SoilPlantAirContinuum.annual_profit"><code>SoilPlantAirContinuum.annual_profit</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">annual_profit(
            node::SPACSimple{FT},
            photo_set::AbstractPhotoModelParaSet{FT},
            weather::Array{FT,2}
) where {FT&lt;:AbstractFloat}</code></pre><p>Calculate the profit in the growing season so as to optimize leaf investment,     given</p><ul><li><code>node</code> [<code>SPACSimple</code>] type struct</li><li><code>photo_set</code> [<code>AbstractPhotoModelParaSet</code>] type struct</li><li><code>weather</code> Weather profile in a growing season</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/simulation/annualprofit.jl#L6-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.annual_simulation!" href="#SoilPlantAirContinuum.annual_simulation!"><code>SoilPlantAirContinuum.annual_simulation!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">annual_simulation!(
            node::SPACSimple{FT},
            photo_set::AbstractPhotoModelParaSet{FT},
            weather::DataFrame,
            output::DataFrame
) where {FT&lt;:AbstractFloat}</code></pre><p>Run annual simulation for a growing season, given</p><ul><li><code>node</code> [<code>SPACSimple</code>] type struct</li><li><code>photo_set</code> [<code>AbstractPhotoModelParaSet</code>] type struct</li><li><code>weather</code> Weather profile in a growing season</li><li><code>output</code> The predefined output result</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/simulation/annualsimulation.jl#L6-L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.create_dataframe" href="#SoilPlantAirContinuum.create_dataframe"><code>SoilPlantAirContinuum.create_dataframe</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">function create_dataframe(FT, weather::DataFrame)</code></pre><p>Create a data frame to store simulation output, given</p><ul><li><code>FT</code> Floating number type</li><li><code>weather</code> Weather profile in a growing season</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/simulation/createdataframe.jl#L6-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.initialize_spac_canopy!" href="#SoilPlantAirContinuum.initialize_spac_canopy!"><code>SoilPlantAirContinuum.initialize_spac_canopy!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">initialize_spac_canopy!(node::SPACMono{FT}) where {FT&lt;:AbstractFloat}</code></pre><p>Initialize the RT parameters for a given</p><ul><li><code>node</code> <a href="#SoilPlantAirContinuum.SPACMono"><code>SPACMono</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/layers/initializert.jl#L6-L11">source</a></section></article><h2 id="Optimal-investment"><a class="docs-heading-anchor" href="#Optimal-investment">Optimal investment</a><a id="Optimal-investment-1"></a><a class="docs-heading-anchor-permalink" href="#Optimal-investment" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.leaf_allocation!" href="#SoilPlantAirContinuum.leaf_allocation!"><code>SoilPlantAirContinuum.leaf_allocation!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">leaf_allocation!(
            node::SPACSimple{FT},
            laba::FT
) where {FT&lt;:AbstractFloat}
leaf_allocation!(
            node::SPACSimple{FT},
            photo_set::AbstractPhotoModelParaSet{FT},
            vmax::FT
) where {FT&lt;:AbstractFloat}
leaf_allocation!(
            node::SPACSimple{FT},
            photo_set::AbstractPhotoModelParaSet{FT},
            laba::FT,
            vmax::FT
) where {FT&lt;:AbstractFloat}</code></pre><p>Update leaf area and maximal carboxylation rate, given</p><ul><li><code>node</code> [<code>SPACSimple</code>] type struct</li><li><code>photo_set</code> [<code>AbstractPhotoModelParaSet</code>] type struct</li><li><code>laba</code> Given leaf area per basal area</li><li><code>vmax</code> Given Vcmax25</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/bigleaf/leafallocation.jl#L6-L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.optimize_leaf!" href="#SoilPlantAirContinuum.optimize_leaf!"><code>SoilPlantAirContinuum.optimize_leaf!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">optimize_leaf!(
            node::SPACSimple{FT},
            photo_set::AbstractPhotoModelParaSet{FT},
            weather::Array{FT,2},
            printing::Bool
) where {FT&lt;:AbstractFloat}</code></pre><p>Optimize leaf area (LAI within 0-20) and photosynthetic capacity (within     5-200), given</p><ul><li><code>node</code> [<code>SPACSimple</code>] type struct</li><li><code>photo_set</code> [<code>AbstractPhotoModelParaSet</code>] type struct</li><li><code>weather</code> Weather profile in a growing season</li><li><code>printing</code> Optional. If true, printing progress</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/bigleaf/optimizeleaf.jl#L6-L20">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SoilPlantAirContinuum.optimize_hs!" href="#SoilPlantAirContinuum.optimize_hs!"><code>SoilPlantAirContinuum.optimize_hs!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">optimize_hs!(
            node::SPACSimple{FT},
            photo_set::AbstractPhotoModelParaSet{FT},
            weather::Array{FT,2}
) where {FT&lt;:AbstractFloat}</code></pre><p>Optimize hydraulic conductance and leaf investment, given</p><ul><li><code>node</code> [<code>SPACSimple</code>] type struct</li><li><code>photo_set</code> [<code>AbstractPhotoModelParaSet</code>] type struct</li><li><code>weather</code> Weather profile in a growing season</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/SoilPlantAirContinuum.jl/blob/cbf1e2d21051715ee3f42c826fcb314ad52efe46/src/bigleaf/optimizehs.jl#L6-L17">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.5 on <span class="colophon-date" title="Tuesday 27 July 2021 23:32">Tuesday 27 July 2021</span>. Using Julia version 1.6.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
